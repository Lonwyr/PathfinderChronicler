sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/core/util/File","sap/m/MessageBox"],function(e,t,n){"use strict";return e.extend("com.lonwyr.PathfinderChronicler.controller.BaseController",{getRouter:function(){return this.getOwnerComponent().getRouter()},getResourceBundle:function(){return this.getOwnerComponent().getModel("i18n").getResourceBundle()},getModel:function(e){return this.getView().getModel(e)},navigate:function(e){this.getRouter().navTo(e.getSource().getSelectedKey())},loadConfig:function(e){try{var t=e.getParameter("files")&&e.getParameter("files")[0];if(t&&window.FileReader){var o=new FileReader;o.onload=function(e){var t=e.target.result;var n=JSON.parse(t);this.getModel("data").setData(n.data);this.getModel("printOptions").setData(n.printOptions)}.bind(this);o.readAsText(t)}}catch(e){n.error("The loading of the data was not successful.\n"+e.message)}},downloadConfig:function(){try{const e=this.getModel("data").getData();const n=this.getModel("printOptions").getData();const o=JSON.stringify({data:e,printOptions:n});t.save(o,"pathfinderChroniclerSettings","pfcconfig")}catch(e){n.error("The export of the data was not successful.\n"+e.message)}}})});